<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adicionar Nova Campanha</title>
</head>
<body>
    <form>
        <label for="nome_campanha">Nome Campanha:</label><br>
        <input type="text" id="nome_campanha" name="nome_campanha"><br>

        <label for="descricao_campanha">Descrição:</label><br>
        <input type="text" id="descricao_campanha" name="descricao_campanha"><br><br>

        <button onclick="adicionarCampanhas2()"> ADICIONAR CAMPANHA</button>  
    </form>
    <script>
function adicionarCampanhas2() {
    let nome_campanha = document.getElementById("nome_campanha").value;
    let desc_campanha = document.getElementById("descricao_campanha").value;

    if (!nome_campanha || !desc_campanha) {
        alert("Por favor, preencha todos os campos!");
        return;
    }

    fetch("../dados/campanhas.json")
        .then((res) => res.json())
        .then((conteudo_json) => {
            console.log(conteudo_json); // Exibe o JSON carregado

            // Cria um novo objeto de campanha com os valores inseridos
            let novaCampanha = {
                nome: nome_campanha,
                descricao: desc_campanha
            };

            // Adiciona a nova campanha ao array de campanhas
            conteudo_json.push(novaCampanha);

            console.log("Campanha adicionada:", novaCampanha);
            console.log("Campanhas atualizadas:", conteudo_json);

            // Aqui você pode atualizar a UI ou salvar os dados em algum lugar
            // Caso queira simular a atualização do arquivo JSON, por exemplo, enviando para um servidor:
            // fetch('url-para-salvar', {
            //   method: 'POST',
            //   headers: { 'Content-Type': 'application/json' },
            //   body: JSON.stringify(conteudo_json)
            // })
            // .then(response => response.json())
            // .then(data => console.log('Salvo com sucesso', data))
            // .catch(error => console.error('Erro ao salvar campanhas:', error));
        })
        .catch((erro) => {
            console.error("Erro ao carregar as campanhas:", erro);
        });
        alert("Teste");
}



function adicionarCampanhas() {
    let nome_campanha = document.getElementById("nome_campanha").value;
    let desc_campanha = document.getElementById("descricao_campanha").value;

    let conteudo_json = [
        { nome: "Campanha 1", descricao: "Descrição da campanha 1" },
        { nome: "Campanha 2", descricao: "Descrição da campanha 2" }
    ];

    console.log("Dados carregados manualmente:", conteudo_json);

    let novaCampanha = {
        nome: nome_campanha,
        descricao: desc_campanha
    };

    conteudo_json.push(novaCampanha);
    console.log("Campanhas atualizadas:", conteudo_json);
    alert(conteudo_json);
}


    </script>
</body>
</html>